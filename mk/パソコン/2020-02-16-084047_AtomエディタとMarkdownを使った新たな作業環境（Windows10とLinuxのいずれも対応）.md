---
AUTHOR: 廣野秀樹
TITLE: "AtomエディタとMarkdownを使った新たな作業環境（Windows10とLinuxのいずれも対応）"
STATUS: Publish
CREATE_DATE: 2020-02-16 08:40:47 +0900
CATEGORIES: Windows10 Linux Ubuntu Atomエディタ
---

# Windows10のWSL環境における不便な問題、LinuxとWindows10それぞれのメリットとデメリット

〉〉〉　：Linux Ａｔｏｍ： 2020-02-16 08:51 　〉〉〉

:CATEGORIES: Windows10,Linux,Ubuntu,Atomエディタ

　Windows10のWSLはターミナル（仮想端末）ですが、他にツールを使うとXWindowシステムでGUIのアプリを動かすこともできます。

　KATEのようなエディタのアプリは問題なく使えるのですが、よく使うブラウザのFirefoxやGoogle Chromeというはまともに起動すらしないものがあります。

　一番の問題は、GUIでEmacsを起動すると、Windows10の環境でATOKの日本語変換が出来ないことです。-nwとオプションをつければターミナルでEmacsを起動できますが、マウス操作もスクロールもできなくなります。

　Windows10を使う最大のメリットは日本語変換のATOKにあると感じています。WSLのGUIの場合は、通常のLinuxの環境と同じMOZCをインストールして使うことになります。Google日本語入力のオープンソース版とも聞く日本語変換です。

```
Windows 10では、WSL（Windows Subsystem for Linux）という仕組みにより、Linux環境を構築できます。Microsoftは今後リリース予定のWindows 10アップデートで、完全なLinuxカーネルをコンポーネントとして搭載することを明らかにしていますが、現状のWSLはカーネルインターフェースとユーティリティで構成されるLinuxエミュレータです。 そんなWSLについて、その仕組みと構成、および現時点でのUbuntuによるLinux仮想環境の構築方法、WSLのメリットについて説明します。

［source：］WSLでWindows 10にLinux仮想環境を構築 | パソコン工房 NEXMAG https://www.pc-koubou.jp/magazine/21475
```

　どうも記事に日付が見当たらないのですが、少し古いものになる感じがします。昨年の秋頃にWindows10の大きなアップデートがあって、WSLの環境が大幅に良くなり、割とシームレスにWindows10のアプリとの共有ができるようになりました。

　Windows10のWSLでもMySQLのデータベースサーバーを動かし、Linuxとデータの同期をさせていますが、データ数が４０万件を超えるテーブルもあるのでスクリプトで操作をすると、処理に時間がかかり、Linuxの１０倍以上と感じることもあります。

　同じ処理はできるが作業効率が格段に悪くなるということです。多少手間が掛かっても当初はしかたがないと考えていたのですが、時間あたりの仕事量がまったく違ってくるので、これはまずいと考えるようになりました。

　Windows10のWSLとWindows10のアプリはクリップボードの共有が出来、Windows10のフリーソフトの方がクリップボードの操作に利便性の高いものがあります。Linuxもクリップボードのアプリがいくつかあるのですが、それほど便利ではない感じです。

　ただ、Windows10のWSLでもクリップボードは１つしか使えません。Linuxだとクリップボードとは別にセレクションがあって、文字列を範囲選択しただけだと、マウスの中ボタンで貼り付けることができ、プログラムからも別のデータとして扱えます。

　慣れないと誤操作にもなりそうですが、これで作業効率が大幅にアップします。いたずらにクリップボードの履歴の数を増やすこともありません。テキストをマウスで範囲選択したあとに、選択を解除しても同じですが、マウスの中ボタンを押すだけで貼り付けることができます。

　Windows10のメリットですが、昨年の９月の初めころから本格的に使うようになり、システムが以前と比較しずいぶん安定したと感じています。WORDやEXCELもずいぶんと使いやすくなったと思います。ワープロや表計算に特化した作業が効率よくできるようになります。

　他者とのデータの受け渡しにも不安はないでしょう。ほとんどの人がWORDやEXCELでファイルを作り編集をしているはずです。私の場合、これは石川県警察とのデータの受け渡しを想定した訓練にもなっています。

　稿を改めて記したいと思いますが、同じ文章のファイルでも、ワープロソフトWORDで作成したものはバイナリーのデータになり、扱えるアプリが限られることになります。テキストデータとして保存し直すことは出来ますが、それも手間の掛かる煩雑な作業になることが目に見えています。

　VBAを使うという方法もありますが、石川県の図書館横断検索でもWORDのVBAの本は見つからず、いいものがあればお金を出してでもほしいのですがAmazonでもよさそうなものが見つかりませんでした。

　自力で、カーソルのある項目のテキストをクリップボードに保存するというVBAは作成し使っているのですが、それもずいぶんと手間と時間の掛かる作業となりました。同じVBAでもEXCELだとセル単位の扱いがしやすいのですが、WORDのものはずいぶん複雑です。

　WORDの場合、行と段落の扱いがややこしくなっています。テキストの範囲選択も問題になりますが、この範囲選択がうまく出来て、変数に代入することができれば、あとはなんとでも処理が出来ますし、選択範囲に書式を適用することも簡単でした。

　Linuxのパソコン環境はRubyやpythonというプログラムの開発・実行環境が整い容易に扱えるのですが、これも最近のWindows10では環境がかなり改善されています。

　昨夜も、他に問題があってWindows10でRubyを入れ直したのですが、以前はけっこう難儀した「nokogiri」というライブラリーのインストールがすんなり出来たのでちょっと驚いたのですが、Rubyのインストールの仕方にもいろいろとあって、条件が違ってくると別の問題にぶつかることが少なくない経験です。

［link：］ はじめてのRuby！Nokogiriでスクレイピングの基礎を理解しよう！ | 侍エンジニア塾ブログ（Samurai Blog） - プログラミング入門者向けサイト https://www.sejuku.net/blog/57458

　Rubyであればｇｅｍ、pythonであればｐｉｐやｃｏｎｄａがライブラリーを導入する手段になるのですが、そこにはシステムの開発用ライブラリーファイルやコンパイラを使ったプログラム言語のコンパイルという作業が行われます。Linuxはとても充実しています。

　本格的にプログラム言語を使うのであればLinuxの環境以外に選択肢はないのですが、日本語変換とワープロ、表計算の優位性がWindows10にはあって、ファイルの互換性や共有性はOffice製品が飛び抜けて優れているという結論になるかと思います。

　もっともVBAやマクロを使わないのであればGoogle文書やLibreOfficeでも不便なく使えます。WORDやEXCELは職業訓練のような意味合いも強く、高度な操作性を取得すれば社会に通用しやすい価値があるとも考えています。

〈〈〈　：Linux Ａｔｏｍ： 2020-02-16 10:34 　〈〈〈

# AtomエディタとMarkdownのアウトライン

〉〉〉　：Windows Atom： 2020-02-17 19:33 　〉〉〉

:CATEGORIES: Atomエディタ,Markdown,Linux,Windows10

```
Atom（アトム）は、GitHubが開発したオープンソースのテキストエディタである。


目次
1	概要
2	パッケージ
3	プログラミング言語のサポート
4	ライセンス
5	脚注
6	関連項目
7	外部リンク
概要［編集］
テーマは A hackable text editor for the 21st Century (21世紀に向けたハック可能なテキストエディタ) と設定されている。

GitHubの共同創業者であるクリス・ワンストラスによって2008年に開始されたプロジェクトだが［2］、同社のビジネスが成功したことでワンストラスが多忙となり開発が一時停止していた［3］。その後、2011年から開発が再開され［3］、2014年2月26日に招待制のベータバージョンとしてまずMac OS X向けがリリースされた［4］。同年5月6日、MIT Licenseのもとでソースコードを公開［5］。2015年6月26日にバージョン1.0がリリースされた［2］。その後も、多数のコミッタの参加により、急激に高機能化、動作負荷削減を果たしながらシェアを増加させてきた。現在では、Webフロントエンドを扱う技術者を中心に人気となっている。

Electron［6］を使用したデスクトップアプリケーションであり、ユーザーインターフェースはウェブ技術であるJavaScript、CSSなどを使ってカスタマイズ可能となっている。

同世代のテキストエディタであるBrackets・Sublime Textと良く比較される。

［source：］Atom (テキストエディタ) - Wikipedia https://ja.wikipedia.org/wiki/Atom_(%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF)
```

　GitHubを知らずにAtomを使っている人は少ないように思いますが、2008年に開始されたプロジェクトとあります。始めに使ったのは10年以上前と思いますが、しばらく使っては、また使わずにいました。

　次にMarkdownですが、Atomよりは後に出てきたように思います。今のところ設定はしていませんが、はてなブログでは、設定でMarkdownを標準のフォーマット（書式）とすることも出来たかと思います。簡単にhtmlを扱えるとして紹介されることが多い感じです。

```
Markdown（マークダウン）は、文書を記述するための軽量マークアップ言語のひとつである。本来はプレーンテキスト形式で手軽に書いた文書からHTMLを生成するために開発されたものである。しかし、現在ではHTMLのほかパワーポイント形式やLATEX形式のファイルへ変換するソフトウェア（コンバータ）も開発されている。各コンバータの開発者によって多様な拡張が施されるため、各種の方言が存在する。

［source：］Markdown - Wikipedia https://ja.wikipedia.org/wiki/Markdown
```

　私がなぜ再びAtomを使うようになったかですが、テキストエディタから直接、カーソルのある行のテキストをTwitterに投稿するのが目的でした。Linuxの環境では以前からやっていましたが、Windowsパソコンでやるとなると、障壁がありました。

　Linuxで作成したコードをそのままWindowsパソコンの環境で使えるのもマルチプラットフォームであるAtomの強みになりますが、同じコードを実行することが出来ず、エラーも出なかったので戸惑いながら時間を費やしました。

　いくつか問題をクリアして出来るようになったのですが、node.jsのインストールをすっかり忘れていたのが致命的だったのかもしれません。他にもやったことはあるのですが、とにかく以前のように投稿が出来るようになりました。

```
Node.js は、イベント化された入出力を扱うUnix系プラットフォーム上のサーバーサイドJavaScript環境である。Webサーバなどのスケーラブルなネットワークプログラムの記述を意図している［4］。ライアン・ダール（英語版）によって2009年に作成され、ダールを雇用しているJoyentの支援により成長している［5］ ［6］。

［source：］Node.js - Wikipedia https://ja.wikipedia.org/wiki/Node.js
```

　Markdownで扱うのはテキストファイルになります。これは少し前までメインで使っていたEmacsのorg-modeと同じになります。中身は同じテキストファイルになりますが、関連付けられたプラグインによって編集の動作が違ってきます。

〈〈〈　：Windows Atom： 2020-02-17 20:05 　〈〈〈
　
〉〉〉　：Linux Ａｔｏｍ： 2020-02-17 20:18 　〉〉〉

　Windowsでインストールした「document-outline」というパッケージをUbuntuでもインストールしたのですが、エラーが出て失敗しました。ログのエラーメッセージで調べたのですが、それらしい情報は見つかりませんでした。

〈〈〈　：Linux Ａｔｏｍ： 2020-02-17 20:20 　〈〈〈

〉〉〉：Linux Emacs： 2020-02-17（月曜日）20：24　 〉〉〉

▶▶▶　kk_hironoのリツイート　▶▶▶
RT kk_hirono（告発＼市場急配センター殺人未遂事件＼金沢地方検察庁・石川県警察御中）｜s_hirono（非常上告-最高検察庁御中_ツイッター） 日時：2020-02-17 20:28／2020/02/17 16:03 URL： https://twitter.com/kk_hirono/status/1229367099761381378 https://twitter.com/s_hirono/status/1229300415734267905
> 2020-02-17-153600_Project　—　〜／git／gh2019kk　—　Atom.jpg https://t.co/CcIKLGH40l
▶▶▶　　　　　End　　　　　▶▶▶

▶▶▶　kk_hironoのリツイート　▶▶▶
RT kk_hirono（告発＼市場急配センター殺人未遂事件＼金沢地方検察庁・石川県警察御中）｜s_hirono（非常上告-最高検察庁御中_ツイッター） 日時：2020-02-17 20:28／2020/02/17 19:38 URL： https://twitter.com/kk_hirono/status/1229367083768528898 https://twitter.com/s_hirono/status/1229354549850198016
> 2020-02-17-172120_〉〉〉　：Windows　Atom：　2020-02-17　17：22　〉〉〉　.jpg https://t.co/BkJAKHzzkM
▶▶▶　　　　　End　　　　　▶▶▶

▶▶▶　kk_hironoのリツイート　▶▶▶
RT kk_hirono（告発＼市場急配センター殺人未遂事件＼金沢地方検察庁・石川県警察御中）｜s_hirono（非常上告-最高検察庁御中_ツイッター） 日時：2020-02-17 20:28／2020/02/17 19:40 URL： https://twitter.com/kk_hirono/status/1229367060548878337 https://twitter.com/s_hirono/status/1229354992592547841
> 2020-02-17-193939_〉〉〉　：Windows　Atom：　2020-02-17　19：33　〉〉〉　.jpg https://t.co/XTADJutogY
▶▶▶　　　　　End　　　　　▶▶▶

▶▶▶　kk_hironoのリツイート　▶▶▶
RT kk_hirono（告発＼市場急配センター殺人未遂事件＼金沢地方検察庁・石川県警察御中）｜s_hirono（非常上告-最高検察庁御中_ツイッター） 日時：2020-02-17 20:30／2020/02/17 20:29 URL： https://twitter.com/kk_hirono/status/1229367475512365057 https://twitter.com/s_hirono/status/1229367344452923393
> 2020-02-17-202358_〈〈〈　：Linux　Ａｔｏｍ：　2020-02-17　20：20　　〈〈〈.jpg https://t.co/0hWGAb42Zf
▶▶▶　　　　　End　　　　　▶▶▶

▶▶▶　kk_hironoのリツイート　▶▶▶
RT kk_hirono（告発＼市場急配センター殺人未遂事件＼金沢地方検察庁・石川県警察御中）｜s_hirono（非常上告-最高検察庁御中_ツイッター） 日時：2020-02-17 20:30／2020/02/17 20:29 URL： https://twitter.com/kk_hirono/status/1229367456830898177 https://twitter.com/s_hirono/status/1229367375058755584
> 2020-02-17-202735_〉〉〉：Linux　Emacs：　2020-02-17（月曜日）20：24　　〉〉〉.jpg https://t.co/N3xWnTtjHx
▶▶▶　　　　　End　　　　　▶▶▶

　Windows10でのATOKの日本語変換は作業効率が良いですがLinuxのUbuntuの方が文字が見やすく気持ちよく作業が出来ます。メーカーのパソコンだとフォントの環境は整っているのかもしれないですが、最低限Windows10が入っているだけのパソコンだと見劣りが大きいです。

　少し思い出して今日発見したのですが、AtomだとCtrl+pで、プロジェクト内のファイル名の検索ができます。文字列の一部で探し出せる検索です。これは非常に便利だし、大きな可能性を秘めていると感じました。今まで気づかなかったのが不思議です。

　Windows10のWordだと１つのファイルにまとめるには負担が大きく感じますし、複数のファイルに分けると横断検索に不便を感じます。横断的に文字列を検索する方法はありそうですが、一覧で表示させたり、一括で置換までできる機能はまだなさそうな感じです。

　テキストファイルだと次のような検索が可能です。オプションの指定では前後の指定の行数と一緒に表示したり、パイプで繋いで絞り込みを掛けることも出来ます。UNIXの基本操作になります。

```
[9998]  % grep -r 江村正之検察官 ./*
./kk_vscode/参考資料/弁護士/深澤諭史弁護士/2019-11-17-110752_深澤諭史弁護士（第二東京弁護士会）のTwitterタイムライン（2019年11月分）.org:　ざっと目を通しただけでも思うところがいろいろとありすぎるのですが、参考になったことと、この事件と同じ茨城県で弁護士をしているらしい江村正之検察官のことが重なって、ずっと前の感覚が呼び覚まされたようなところもあります。
./kk_vscode/参考資料/弁護士/深澤諭史弁護士/2019-11-17-110752_深澤諭史弁護士（第二東京弁護士会）のTwitterタイムライン（2019年11月分）.org:　被告人は刑事裁判の成り行きに不本意で戸惑いもありながら、人を死なせてしまったという結果の重大性から言いたいこと、言うべきことを十分に伝えられてはいないという印象も受けました。私の場合は、結審となった公判の冒頭に江村正之検察官から被害者の意識が戻ったと知らされました。
./make_days/2020-01-23-134739_make-day.org:　平成４年の傷害・準強姦被告事件では、江村正之検察官が関係者の供述調書の読み上げを法廷でしていました。概要でしたが１つあたり１４０文字のツイートの半分ぐらいの内容であったと記憶にあります。
./make_days/2020-01-23-134739_make-day.org:　そのなかで、特に気になったのが被告発人HTNの供述調書で、「はっきりしない」と被害者AAさんが話していたようなことを江村正之検察官は、うつむきながら気持ちが入らず、ヤケクソ気味とも思える態度で読み上げていたと、印象に残っています。
./make_days/2020-01-23-134739_make-day.org:　なんどでも繰り返し記述しておきたいことの１つですが、２回目の公判は６月３０日で、初公判が６月１８日でした。２回目の公判の冒頭では、江村正之検察官がかしこまったような態度で、被害者AAさんの意識が戻ったと報告をしました。
./make_days/2020-01-23-134739_make-day.org:　私はガッツポーズというのをこのかたした憶えはないのですが、無意識の反応で喜びが体の動作にも現れたのだと思います。とにかくその私の反応をみた江村正之検察官の様子が、ギョッとした異様な反応でした。８月３日の初公判のときも、机の上の書面を何度も手繰る仕草を見せていました。
./make_days/2020-01-18-000828_make-day.org:　この検察官の役割は、昭和47年ぐらいの国語辞典にみたもので、公判での江村正之検察官の言動が余りに理解に苦しむものであったので、そもそも検察官とは何かということで、拘置所の独居房に戻ってから私本所持をしていた小学生の頃の国語辞典で調べたのです。
```

　テキストファイルは、テキストエディタであれば、ほとんど同じように扱えますし、UNIXのストリームとしてテキスト処理することも普通に出来て、ファイル本体に影響を与えないというのも既定のことで、オプションの指定で書き換えが可能となります。

　LinuxとWindows10では、文字コードと改行コードが異なりますが、Atomのようなマルチプラットホームのエディタであれば、同じように扱えるのが基本ですし、UTF-8、LFなどと表示が出ているのですぐに確認ができます。

〈〈〈：Linux Emacs： 2020-02-17（月曜日）20：56 　〈〈〈

